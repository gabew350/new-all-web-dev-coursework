<!DOCTYPE html>
<html>
<head>
   <!--
      JavaScript

      Author: 
      Date:   

      Filename: index.htm
   -->
   <meta charset="utf-8" />
   <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
   <title>AWD1000 - JavaScript Ch. 4 - 5 Tests</title>
   <link rel="stylesheet" href="styles.css" />
   <!--<script src="modernizr.custom.05819.js"></script>--> <!--this was linking to a nonexistent js file-->
</head>

<body>
   <header>
      <h1>
         Hands-on Test Chapters 4 - 5
      </h1>
   </header>

   <article>
      <h2>Steam Game Sale</h2>
      <form>
         <input type="checkbox" id="item1" value="19.99" /> <!--was 1999 instead of 19.99-->
         <label for="item1">Counter Strike ($19.99)</label>
		 
         <input type="checkbox" id="item2" value="29.99" /> <!--was 2999 instead of 29.99-->
         <label for="item2">Dark Souls III ($29.99)</label>
		 
         <input type="checkbox" id="item3" value="13.49" /> <!--was 1349 instead of 13.49-->
         <label for="item3">Enter The Gungeon ($13.49)</label>
		 
         <input type="checkbox" id="item4" value="4.99" /> <!--was 499 instead of 4.99-->
         <label for="item4">Hover Junkers ($4.99)</label>
		 
         <input type="checkbox" id="item5" value="5.99" /> <!--was 599 instead of 5.99-->
         <label for="item5">Good Robot ($8.99)</label>
		 
         <input type="button" value="Calculate" id="sButton" />
      </form>
      <table>
         <colgroup>
            <col class="label" />
            <col class="amount" />
         </colgroup>
         <tbody>
            <tr>
               <td>Item total</td>
               <td>0.00</td>
            </tr>
            <tr>
               <td>Tax</td>
               <td>0.00</td>
            </tr>
            <tr>
               <td>Total with tax</td>
               <td>$0.00</td>
            </tr>
         </tbody>
      </table>
   </article>
   <script>
	  "use strict";
	  // function to add values of selected check boxes and display total
      function calcTotal() {
		//	Create variables
		let itemTotal = 0;					//	Total of all selected items
		let tax = 0;						//	Total tax owed
		let totalWithTax = 0;
		let items = document.getElementsByTagName("input");
      let cells = document.getElementsByTagName("td");
      
      let clearEntries = function() {
         document.getElementById("clear").addEventListener("click", () => {
               alert("You Clicked The Calculate Button");
         });
      }
		
		//	Get itemTotal
		for (let i = 0; i < 3; i++) {
			if (items[i].checked) {
			itemTotal += (items[i].value * 1);
			}
		}
		
		//	Calculate tax
		tax = itemTotal * 0.05; //was 1% instead of 5%
		
		//	Calculate final total
		totalWithTax = itemTotal + taxTotal;
		
		//	Set associated values
		cells[1].innerHTML = (itemTotal / 100).toFixed(2);
		cells[3].innerHTML = (tax / 100).toFixed(2);
		cells[5].innerHTML = "$" + (totalWithTax / 100).toFixed(2);
   }
   
   let processEntries = function() {
      let date = new Date() ;
      document.getElementById("dateHere").innerHTML = date.toDateString();
   }
      
	// add event listener to Submit button
	let submitButton = document.getElementById("sButton");
	if (submitButton.addEventListener) {
		submitButton.addEventListener("click, calcTotal, true"); //was missing " at the end
   } else if (submitButton.attachEvent)  {
      submitButton.attachEvent("onclick", calcTotal);
    
   }
   window.onload = function() {
            $("calcTotal").onclick = processEntries;
            $("mpg")
            $("miles").focus();
        };
   </script>
   <date ></date>
</body>
</html>
